!!ARBfp1.0

TEMP tmp, col;

# stereo interlacing
MAD tmp.xy, fragment.position, program.env[2], program.env[2].zwxy;
FRC tmp.xy, tmp;
SUB tmp.xy, tmp, 0.5;
KIL tmp.xyxy;

# get data from 3D texture
TEX col, fragment.texcoord[0], texture[0], 3D;   # get scalar value

# write to output register
MUL result.color, col, fragment.color.primary;   # attenuate with primary color

END
