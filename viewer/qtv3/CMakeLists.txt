# cmake build file

PROJECT(MyQtApp)

CMAKE_MINIMUM_REQUIRED(VERSION 2.8.3)

# non-standard path to Qt4
SET(CMAKE_PREFIX_PATH ${CMAKE_PREFIX_PATH};
    /usr/local/Trolltech/Qt-4.7.4;
   )

# Qt4 dependency
SET(QT_USE_QTOPENGL TRUE)
FIND_PACKAGE(Qt4 COMPONENTS QtCore QtGui REQUIRED)
INCLUDE(${QT_USE_FILE})
ADD_DEFINITIONS(${QT_DEFINITIONS})

# OpenGL dependency
FIND_PACKAGE(OpenGL)
FIND_PACKAGE(GLUT)

# volren dependency
FIND_PATH(VOLREN_PATH volren.h ..)
FIND_LIBRARY(VOLREN_LIBRARY Viewer PATHS .. PATH_SUFFIXES lib)
INCLUDE_DIRECTORIES(${VOLREN_PATH})

# executable
ADD_EXECUTABLE(qtv3 qtv3.cpp)
TARGET_LINK_LIBRARIES(qtv3
   ${QT_LIBRARIES}
   ${VOLREN_LIBRARY}
   ${GLUT_LIBRARIES}
   ${OPENGL_LIBRARIES}
   )
